<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AJAX</title>
</head>

<body>
    <div class="bd-example-snippet bd-code-snippet">
        <div class="bd-example m-0 border-0">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">NAME</th>
                        <th scope="col">ACCOUNT</th>
                        <th scope="col">PASSWORD</th>
                    </tr>
                </thead>
                <tbody id="table-b">
                </tbody>
            </table>
        </div>
    </div>

    <script src="./vendors/jquery/jquery-3.6.4.min.js"></script>
    <script>

        $(document).ready(function () {
            const tableBody = document.getElementById('table-b');
            console.log(tableBody)
            $.ajax({
                url: "http://localhost:8080/members/all",
                type: "GET",
                dataType: "json",
                success: onReceivedJSON,
                error: function (xhr, status, error) {
                    console.log("AJAX Error" + error);
                }
            });

            function onReceivedJSON(data) {
                console.log(data);
                data.forEach(element => {
                    console.log(element)
                    const row = `
                    <tr>
                        <th scope="row">${element.id}</th>
                        <td>${element.name}</td>
                        <td>${element.account}</td>
                        <td>${element.password}</td>
                    </tr>
                    `
                    console.log(row)
                    tableBody.innerHTML += row;
                });

            }
        })


    </script>

</body>

</html>